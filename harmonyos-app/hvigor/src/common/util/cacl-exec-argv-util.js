"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.calcChildExecArgv=void 0;const process_1=__importDefault(require("process")),hvigor_config_reader_js_1=require("../../base/util/hvigor-config-reader.js");function calcChildExecArgv(e=!1){var i,r;const o=[...process_1.default.execArgv],s=`--max-old-space-size=${hvigor_config_reader_js_1.HvigorConfigReader.getMaxOldSpaceSize(e)}`,c=o.findIndex(e=>e.startsWith("--max-old-space-size="));-1!==c&&o[c]?o[c]=s:o.push(s);const t=`--max-semi-space-size=${hvigor_config_reader_js_1.HvigorConfigReader.getMaxSemiSpaceSize(e)}`,a=o.findIndex(e=>e.startsWith("--max-semi-space-size="));-1!==a&&o[a]?o[a]=t:o.push(t);const d=null===(r=null===(i=hvigor_config_reader_js_1.HvigorConfigReader.getHvigorConfig())||void 0===i?void 0:i.nodeOptions)||void 0===r?void 0:r.exposeGC,n=o.indexOf("--expose-gc");return!1===d||-1!==n&&o[n]?!1!==d||-1===n&&!o[n]||o.splice(n,1):o.push("--expose-gc"),o}exports.calcChildExecArgv=calcChildExecArgv;