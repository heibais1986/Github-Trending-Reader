"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeStringJson=exports.getJson5Obj=void 0;const path_1=__importDefault(require("path")),hvigor_1=require("@ohos/hvigor"),fs_extra_1=__importDefault(require("fs-extra")),ohos_logger_js_1=require("./log/ohos-logger.js"),log=ohos_logger_js_1.OhosLogger.getLogger("json-util");function getJson5Obj(r,e="utf-8"){if(!fs_extra_1.default.existsSync(r))return;const t=fs_extra_1.default.readFileSync(path_1.default.resolve(r),{encoding:e});try{return(0,hvigor_1.parseJsonText)(t)}catch(e){if(e instanceof SyntaxError){const t=e.message.split("at ");2===t.length&&log.printErrorExit("JSON_READER_SYNTAX_ERROR",[t[0].trim(),r,t[1].trim()])}log.printErrorExit("NOT_CORRECT_JSON_FORMAT",[r])}}function mergeStringJson(r,e){const t={string:[]},o=[];return null==r||r.string.forEach(r=>{t.string.push(r),o.push(r.name)}),null==e||e.string.forEach(r=>{o.includes(r.name)||t.string.push(r)}),t}exports.getJson5Obj=getJson5Obj,exports.mergeStringJson=mergeStringJson;