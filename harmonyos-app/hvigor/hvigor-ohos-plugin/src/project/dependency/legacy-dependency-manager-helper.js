"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LegacyDependencyManagerHelper=void 0;const fs_1=__importDefault(require("fs")),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),error_url_js_1=require("../../utils/error-url.js"),common_const_js_1=require("../../const/common-const.js"),path_1=__importDefault(require("path")),log=ohos_logger_js_1.OhosLogger.getLogger("ohos-legacy-dependency-manager-helper"),solution=`The OpenHarmony npm package or module is not compatible with the current model. Use a compatible OpenHarmony npm package or module. For details about the stage and FA models, see ${error_url_js_1.ErrorUrl.ERROR_URL.modelDiff}.`;class LegacyDependencyManagerHelper{constructor(e){this._moduleName=e}checkHspOrHarStatusForFAByProfile(e,o){const r=path_1.default.resolve(e,"src","main",common_const_js_1.CommonConst.MODULE_JSON5),t=path_1.default.resolve(e,"src","main",common_const_js_1.CommonConst.MODULE_JSON);return this.checkHspOrHarStatusForFA(r,o)||this.checkHspOrHarStatusForFA(t,o)}checkHspOrHarStatusForFA(e,o){return(null==o?void 0:o.name)==common_const_js_1.CommonConst.HYPIUM_PACKAGE_NAME||fs_1.default.existsSync(e)&&log.printErrorExit("FA_RELY_OH_STAGE",[this._moduleName,e],[[solution]]),!0}}exports.LegacyDependencyManagerHelper=LegacyDependencyManagerHelper;