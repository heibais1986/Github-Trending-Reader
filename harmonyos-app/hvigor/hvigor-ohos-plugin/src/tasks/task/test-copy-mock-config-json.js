"use strict";var __decorate=this&&this.__decorate||function(o,e,t,s){var i,r=arguments.length,n=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,t):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(o,e,t,s);else for(var c=o.length-1;c>=0;c--)(i=o[c])&&(n=(r<3?i(n):r>3?i(e,t,n):i(e,t))||n);return r>3&&n&&Object.defineProperty(e,t,n),n},__importDefault=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestCopyMockConfigJson=void 0;const path_1=__importDefault(require("path")),hvigor_1=require("@ohos/hvigor"),fs_extra_1=__importDefault(require("fs-extra")),build_directory_const_js_1=require("../../const/build-directory-const.js"),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),ohos_hap_task_js_1=require("./ohos-hap-task.js");class TestCopyMockConfigJson extends ohos_hap_task_js_1.OhosHapTask{constructor(){super(...arguments),this._log=ohos_logger_js_1.OhosLogger.getLogger(TestCopyMockConfigJson.name)}get mockConfigJsonFile(){return this.pathInfo.getIntermediatesMockConfigJsonFile()}get mockConfigJsonOutputFile(){return path_1.default.join(this.pathInfo.getIntermediatesResourcesRawFileMockDir(),build_directory_const_js_1.BuildArtifactConst.MOCK_CONFIG_JSON)}doTaskAction(){this.copyMockConfigJson()}copyMockConfigJson(){if(fs_extra_1.default.existsSync(this.mockConfigJsonFile)){const o=this.pathInfo.getIntermediatesResourcesRawFileMockDir();fs_extra_1.default.ensureDirSync(o),fs_extra_1.default.copyFileSync(this.mockConfigJsonFile,this.mockConfigJsonOutputFile)}else this._log.debug("Failed to generate mock-config.json during compilation.")}}__decorate([(0,hvigor_1.InputFile)()],TestCopyMockConfigJson.prototype,"mockConfigJsonFile",null),__decorate([(0,hvigor_1.OutputFile)()],TestCopyMockConfigJson.prototype,"mockConfigJsonOutputFile",null),exports.TestCopyMockConfigJson=TestCopyMockConfigJson;