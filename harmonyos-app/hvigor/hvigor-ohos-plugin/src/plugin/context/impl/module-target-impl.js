"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var u,i=arguments.length,l=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(u=e[c])&&(l=(i<3?u(l):i>3?u(t,r,l):u(t,r))||l);return i>3&&l&&Object.defineProperty(t,r,l),l};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ModuleTargetImpl=void 0;const hvigor_1=require("@ohos/hvigor"),core_product_js_1=require("../../../common/global/core-product.js"),core_project_profile_js_1=require("../../../common/global/core-project-profile.js"),build_mode_manager_js_1=require("../../../project/build-option/build-mode-manager.js"),object_util_js_1=require("@ohos/hvigor/src/base/util/object-util.js"),wdk_1=require("@baize/wdk");class ModuleTargetImpl{constructor(e,t,r,o){this.targetInfo=e,this.modulePathInfo=t,this.projectModel=r,this.moduleModel=o,this.projectPath=this.projectModel.getProject().getNodeDir(),this.initCurrentProduct(),this.initBuildPath()}getBuildTargetOutputPath(){return this.buildTargetOutputPath}getTargetName(){return this.targetInfo.name}getCurrentProduct(){return this.currentProduct}getBuildOption(){const e=build_mode_manager_js_1.buildOptionManager.getTargetBuildOption(this.moduleModel.getName(),this.targetInfo.name);return(0,object_util_js_1.freezeDeep)((0,wdk_1.cloneDeep)(null!=e?e:{}))}initCurrentProduct(){const e=core_project_profile_js_1.CoreProjectProfile.getInstance(this.projectPath).getCurrentProductOpt();this.currentProduct=new core_product_js_1.CoreProduct(e,this.projectModel)}initBuildPath(){this.buildTargetOutputPath=this.modulePathInfo.getModuleBuildOutputPath()}}__decorate([hvigor_1.TrackAPI],ModuleTargetImpl.prototype,"getBuildTargetOutputPath",null),__decorate([hvigor_1.TrackAPI],ModuleTargetImpl.prototype,"getTargetName",null),__decorate([hvigor_1.TrackAPI],ModuleTargetImpl.prototype,"getCurrentProduct",null),__decorate([hvigor_1.TrackAPI],ModuleTargetImpl.prototype,"getBuildOption",null),exports.ModuleTargetImpl=ModuleTargetImpl;